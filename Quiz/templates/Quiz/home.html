
{% extends 'Quiz/dependencies.html' %}

{% block content %}
{% load static %}
<div class="container">
<link rel="stylesheet" href="/static/styles.css">
<h1>Tervetuloa Sanavisaan!</h1>

<!--<div id="counter">1:00</div> -->
<!--<div align="right " id="displaytimer"><b>Timer: 0 seconds</b></div>-->
<div align="right " id="counter"><b>Aikaa jäljellä: 1:00 Sekunttia</b></div>
<link rel="stylesheet" href="/static/styles.css">

 <form class="vastaukset" method='post' action='' >
    {% csrf_token %}
    {% for q  in questions%}
    <div class="form-group" >
      <label for="question">{{q.question}}</label>
    </div>
    <div class="form-check">
    <link rel="stylesheet" href="/static/styles.css">
        <div class="form-check">
            <input class="form-check-input" type="radio" name="{{q.question}}" id="gridRadios1" value="option1" checked>
            <label class="form-check-label" for="gridRadios1">
                {{q.op1}}
            </label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="{{q.question}}" id="gridRadios2" value="option2">
            <label class="form-check-label" for="gridRadios2">
                {{q.op2}}
            </label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="{{q.question}}" id="gridRadios1" value="option3">
            <label class="form-check-label" for="gridRadios1">
                {{q.op3}}
            </label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="{{q.question}}" id="gridRadios2" value="option4">
            <label class="form-check-label" for="gridRadios2">
                {{q.op4}}
            </label>
        </div>
        <br>
    </div>    
    {% endfor %}
    <input id='timer' type='hidden' name="timer" value="">
    <br>
    <button type="submit" class="btn btn-primary" style="width:100%; color:white; font-size: 30px; background-color: cadetblue; border: black; text-shadow: 2px 2px black">Submit</button>
    <link rel="stylesheet" href="/static/styles.css">
  </form>
    {% block script %}
        <script>

            /*console.log('hello world')
            const timer=document.getElementById('displaytimer')
            console.log(timer.textContent)
            const inputtag = document.getElementById('timer')

            t=0
            setInterval(()=>{
                t+=1
                timer.innerHTML ="<b>Timer: " +t+" seconds</b>"
                inputtag.value = t
                
                if (t >= 60)
                {
                    clearInterval(pysähdys)
                }
            },1000)*/
            function countdown() {
                var seconds = 60;
                function tick() {
                    var counter = document.getElementById("counter");
                    seconds--;
                    counter.innerHTML = "<b>Aikaa Jäljellä: " + (seconds < 10 ? "0" : "") + String(seconds);
                    if( seconds > 0 ) {
                        setTimeout(tick, 1000);
                    } else {
                        alert("Peli Loppu");
                        return render(request,'Quiz/result.html',context)
                        print(q.ans)
                    }
                }
                tick();
            }

// start the countdown
countdown();           
        </script>
    {% endblock script %}

</div>
{% endblock %}
 
